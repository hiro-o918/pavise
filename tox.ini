[tox]
envlist = py{39,310,311,312}-{pandas,polars,all},lint,type
isolated_build = true

[testenv]
commands =
    pandas: pytest tests/test_pandas.py -v
    polars: pytest tests/test_polars.py -v
    all: pytest tests/ -v

[testenv:lint]
skip_install = true
allowlist_externals = uv
commands =
    uv run ruff check
    uv run ruff format --check

[testenv:type]
skip_install = true
allowlist_externals = uv
commands =
    uv run pyrefly check
